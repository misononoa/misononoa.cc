---
export interface Props {
	display?: boolean;
}

import Contact from "./Contact.astro";
import ToggleList from "./ToggleList.astro";
import { type AccountDetail } from "./Contact.astro";

const display = Astro.props.display ? "block" : "none";
const accounts: Array<AccountDetail> = [
	{ hostname: "msky.misononoa.cc", username: "@misononoa", text: "Misskey" },
	{ hostname: "x.com", username: "@misononoa", text: "x.com" },
	{
		hostname: "bsky.app",
		path: "profile",
		username: "misononoa.cc",
		text: "Bluesky",
	},
	{ hostname: "mixi.social", username: "@misononoa", text: "Mixi2" },
	{ hostname: "www.threads.net", username: "@misononoa", text: "Threads" },
	{ hostname: "github.com", username: "misononoa", text: "GitHub" },
];

const credits: Array<string> = [
	"Astro by Astro Contributors",
	"Fluent Emoji Flat by Microsoft Corporation",
	"Vue.js by Yuxi (Evan) You and Vue contributors",
	"microcms-js-sdk by microcms.io",
];
---

<footer>
	<slot />
	<aside>
		<div>
			<div style="margin: 0;">ごれんらく</div>
			<Contact accounts={accounts} />
		</div>
		<div id="credits">
			<ToggleList
				listName="このサイトに使用した著作物"
				elements={credits}
			/>
		</div>
	</aside>
</footer>
<style define:vars={{ display }}>
	footer {
		display: var(--display);
	}
	aside {
		display: contents;
		font-size: 85%;
		color: gray;
	}
	#credits {
		margin: 1ch 0;
	}

	@media (max-width: 600px) {
		footer {
			margin: 3ch 1ch;
		}
	}

	@media (max-width: 450px) {
		aside h2 {
			font-size: medium;
		}
	}
</style>
