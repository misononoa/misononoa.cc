---
import BaseLayout from "../layouts/BaseLayout.astro";

type ExtLink = {
	href: string;
	img?: string;
	img_alt?: string;
	name: string;
	isMutual?: boolean;
};

const links: ExtLink[] = [
	{
		href: "https://yuinoid.neocities.org/",
		img: "https://yuinoid.neocities.org/img/banner.gif",
		img_alt: "100%health",
		name: "いど子さん",
		isMutual: true,
	},
	{
		href: "https://t3tekuno.neocities.org",
		img: "https://t3tekuno.neocities.org/images/banner.png",
		img_alt: "てく野のサイト",
		name: "てく野さん",
	},
	{
		href: "https://little-girl-float.in/",
		name: "蝉暮せせせさん",
		isMutual: true,
	},
	{
		href: "https://ongaku-modkey.hatenablog.com/",
		name: "才ンガク毛ドキさん(エッコ チェンバー 地下)",
	},
	{
		href: "https://1041uuu.jp/",
		name: "豊井さん",
	},
	{
		href: "https://yamaiga.com",
		img: "https://yamaiga.com/banner2.gif",
		img_alt: "山さ行かねが",
		name: "ヨッキれんさん(山行が)",
	},
	{
		href: "https://hccweb6.bai.ne.jp/yomogi-farm/",
		img: "http://hccweb6.bai.ne.jp/yomogi-farm/img/banner/banner.jpg",
		img_alt: "フランソワさんのよもぎ畑",
		name: "蓬屋ふらんさん",
	},
];

const comment_mutual = "相互(ありがとうございます)";
const comment_fav = "お気に入り";

const formed_links: (string | ExtLink)[] = ((links) => {
	const result: (string | ExtLink)[] = new Array();
	const mutuals = links.filter((link) => link.isMutual);
	const favorites = links.filter((link) => !link.isMutual);
	mutuals.length > 0 && result.push(comment_mutual);
	mutuals.forEach((link) => result.push(link));
	favorites.length > 0 && result.push(comment_fav);
	favorites.forEach((link) => result.push(link));
	return result;
})(links);
---

<BaseLayout title="links" iconName="link" displayFooter>
	<div class="external-links">
		{
			formed_links.map((e) => {
				if (typeof e === "string") {
					return <div style="margin: 10px 0 0 0; ">{e}</div>;
				} else if (e.img) {
					return (
						<li>
							<a href={e.href} style="font-size: small;">
								{e.name} <br />
								<img src={e.img} alt={e.img_alt || e.name} />
							</a>
						</li>
					);
				} else {
					return (
						<li style="padding: 15px 0;">
							<a
								style="font-size: 95%; padding: 2px; border-bottom: dotted 4px darkgray;"
								href={e.href}
							>
								{e.name}
							</a>
						</li>
					);
				}
			})
		}
	</div>
	<br />
	<p style="font-size: small; color: gray;">
		何かございましたら、恐れ入りますが下記アカウントまでご連絡ください。
	</p>
</BaseLayout>

<style>
	.external-links {
		margin: 20px 0;
	}
	.external-links ul {
		margin: 0;
		padding: 0;
	}
	.external-links li {
		list-style-type: none;
	}
	.external-links img {
		margin: 0;
	}
</style>
